<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>‚ú®‚ú®‚ú®</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
      }

      body {
        min-height: 100vh;
        background: linear-gradient(135deg, #fdf2f8 0%, #f3e8ff 100%);
        overflow-x: hidden;
        position: relative;
      }

      header {
        max-width: 1200px;
        margin: 0 auto;
        padding: 40px 15px;
        text-align: center;
      }

      h1 {
        font-size: clamp(1.8rem, 8vw, 2.5rem);
        font-weight: 700;
        background: linear-gradient(90deg, #ff2d55, #ff0080);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        margin-bottom: 15px;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      header p {
        color: #666;
        max-width: 350px;
        margin: 0 auto 30px;
        line-height: 1.6;
        font-size: 16px;
      }

      main {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px 15px;
      }

      .btn-container {
        display: flex;
        justify-content: center;
      }

      #startBtn {
        background: #ff2d55;
        color: white;
        border: none;
        font-size: 18px;
        font-weight: 600;
        padding: 15px 35px;
        border-radius: 50px;
        box-shadow: 0 6px 20px rgba(255, 45, 85, 0.4);
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 10px;
        touch-action: manipulation;
      }

      #startBtn:hover {
        background: #e0254a;
        box-shadow: 0 8px 25px rgba(255, 45, 85, 0.5);
        transform: translateY(-3px);
      }

      #popupContainer {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        pointer-events: none;
        z-index: 9999;
      }

      @keyframes popupBounce {
        0% {
          opacity: 0;
          transform: scale(0.5);
        }
        70% {
          transform: scale(1.1);
        }
        100% {
          opacity: 1;
          transform: scale(1);
        }
      }

      .popup {
        position: absolute;
        opacity: 0;
        pointer-events: auto;
        cursor: pointer;
        border-radius: 16px;
        padding: 15px;
        box-shadow: 0 8px 20px -5px rgba(255, 45, 85, 0.3);
        animation: popupBounce 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275)
          forwards;
        transition: all 0.3s ease;
        overflow: hidden;
      }

      .popup-content {
        display: flex;
        flex-direction: column;
        height: 100%;
        text-align: center;
      }

      .popup-icon {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 12px;
      }

      .popup-text {
        color: #333;
        line-height: 1.5;
        margin-bottom: 12px;
        flex-grow: 1;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        font-size: 14px;
      }

      .close-btn {
        background: #f1f1f1;
        color: #666;
        border: none;
        padding: 5px 14px;
        border-radius: 20px;
        font-size: 13px;
        cursor: pointer;
        transition: background 0.2s ease;
        touch-action: manipulation;
      }

      .close-btn:hover {
        background: #e5e5e5;
      }

      .icon-heart {
        color: #ff2d55;
        font-size: 18px;
      }

      .icon-gift {
        font-size: 20px;
      }
    </style>
  </head>
  <body>
    <!-- <header>
      <h1>Ëá™Âä®ÂºÄÂêØÂ•ΩËøêÂºπÁ™ó‚ú®</h1>
      <p>È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéËá™Âä®Ëß¶ÂèëÔºå‰πüÂèØÁÇπÂáªÊåâÈíÆÂÜçÊ¨°Âè¨Âî§ÔΩû</p>
    </header>

    <main>
      <div class="btn-container">
        <button id="startBtn">
          <span class="icon-gift">üéÅ</span> ÂÜçÊ¨°Ëß¶ÂèëÂºπÁ™ó
        </button>
      </div>
    </main> -->

    <div id="popupContainer"></div>

    <script>
      // 60Êù°Ê≠£ËÉΩÈáèÊñáÊ°à
      const popupTexts = [
        "‰ªäÂ§©‰πüË¶ÅÂÖÉÊ∞îÊª°Êª°ÂëÄÔºÅ",
        "‰Ω†ÁúüÁöÑË∂ÖÊ£íÁöÑÔºÅ",
        "Â•ΩËøêÊ≠£Âú®Âêë‰Ω†Èù†ËøëÔΩû",
        "ËÆ∞ÂæóÂ•ΩÂ•ΩÁà±Ëá™Â∑±‚ù§Ô∏è",
        "ÁîüÊ¥ªÈúÄË¶Å‰∏ÄÁÇπ‰ª™ÂºèÊÑü",
        "Âä†Ê≤πÔºå‰Ω†ÂèØ‰ª•ÁöÑÔºÅ",
        "‰øùÊåÅÁÉ≠Áà±ÔºåÂ•îËµ¥Â±±Êµ∑",
        "Âπ≥ÂÆâÂñú‰πêÔºå‰∏á‰∫ãÈ°∫ÊÑè",
        "ÂÅöËá™Â∑±ÁöÑÂÖâÔºå‰∏çÈúÄË¶ÅÂÄüË∞ÅÁöÑ‰∫Æ",
        "ÊÑøÊâÄÊúâÁæéÂ•ΩÈÉΩÂ¶ÇÊúüËÄåËá≥",
        "ÂºÄÂøÉÊúÄÈáçË¶ÅÂï¶ÔºÅ",
        "Êö¥ÂØåÊö¥ÁæéÊö¥È°∫Âà©‚ú®",
        "Âà´emoÔºåÂêëÂâçÁúãÔºÅ",
        "ÊØè‰∏ÄÊ¨°Âä™ÂäõÈÉΩ‰∏ç‰ºöÁôΩË¥π",
        "‰∫´ÂèóÂΩì‰∏ãÔºåÊ¥ªÂú®ÂΩì‰∏ã",
        "Ê∏©ÊüîÂçä‰∏§Ôºå‰ªéÂÆπ‰∏ÄÁîü",
        "Êó•Â≠êÊÖ¢ÊÖ¢ËøáÔºåÂ•Ω‰∫ã‰ºöÂèëÁîü",
        "‰Ω†ÂÄºÂæó‰∏ñÈó¥ÊâÄÊúâÁæéÂ•Ω",
        "Â∞èÁ°ÆÂπ∏ËóèÂú®Êó•Â∏∏Èáåüåø",
        "ÊÖ¢ÊÖ¢Êù•ÔºåË∞ÅËøòÊ≤°‰∏™Âä™ÂäõÁöÑËøáÁ®ã",
        "Èò≥ÂÖâÊ≠£Â•ΩÔºåÊú™Êù•ÂèØÊúü",
        "Ê≤ªÊÑà‰∏ÄÂàá‰∏çÂºÄÂøÉÁöÑÔºåÊòØ‰Ω†Ëá™Â∑±",
        "ÊääÁÉ¶ÊÅº‰∏¢ÊéâÔºåËÖæÂá∫Âú∞ÊñπË£ÖÂø´‰πê",
        "‰ªäÊó•‰ªΩÂø´‰πêÂ∑≤ÈÄÅËææÔºåËØ∑Êü•Êî∂üì¶",
        "Âä™ÂäõÁöÑ‰Ω†ÔºåÈó™Èó™ÂèëÂÖâ",
        "Âπ≥Âá°ÁöÑÊó•Â≠ê‰πüÊúâÊ∏©ÊüîÁöÑÂÖâËäí",
        "Âà´ÁÑ¶ËôëÔºåÁîüÊ¥ªÊòØÊÖ¢ÊÖ¢ÂèëÂÖâÁöÑ",
        "ÂèØÁà±ÁöÑ‰∫∫ÔºåËøêÊ∞îÈÉΩ‰∏ç‰ºöÂ§™Â∑Æ",
        "ÂøÉ‰∏≠ÊúâÂÖâÔºåËÑö‰∏ãÊúâË∑Ø",
        "‰∏âÈ§êÂõõÂ≠£ÔºåÊ∏©ÊüîÊúâË∂£",
        "ÂÅö‰∏™ÁßØÊûÅÂêë‰∏äÁöÑÂ∞èÂ§™Èò≥‚òÄÔ∏è",
        "ÊâÄÊúâÈÅóÊÜæÔºåÈÉΩÊòØÊÉäÂñúÁöÑÈì∫Âû´",
        "ËÆ§ÁúüÁîüÊ¥ªÔºåÂ∞±ËÉΩÊâæÂà∞ËóèËµ∑Êù•ÁöÑÁ≥ñÊûú",
        "‰Ω†Âè™ÁÆ°ÂñÑËâØÔºå‰∏äÂ§©Ëá™ÊúâË°°Èáè",
        "ÁîüÊ¥ªËôΩÂπ≥Âá°ÔºåÂç¥Êúâ‰∏çÊúüËÄåÈÅáÁöÑÊ∏©Êöñ",
        "‰πòÈ£éÁ†¥Êµ™Ôºå‰∏çË¥üÈü∂Âçé",
        "ÊØèÂ§©ËøõÊ≠•‰∏ÄÁÇπÁÇπÔºåÂ∞±ÊòØÊúÄÂ•ΩÁöÑÊàêÈïø",
        "‰øùÊåÅÂæÆÁ¨ëÔºåÂ•ΩËøê‰ºö‰∏çËØ∑Ëá™Êù•",
        "ÊÑø‰Ω†Ë¢´‰∏ñÁïåÊ∏©Êüî‰ª•ÂæÖ",
        "ÁÆÄÂçïÁÇπÔºåÂø´‰πêÁÇπÔºåÁ≥äÊ∂ÇÁÇπ",
        "ÊòüÂÖâ‰∏çË¥üËµ∂Ë∑Ø‰∫∫ÔºåÊó∂ÂÖâ‰∏çË¥üÊúâÂøÉ‰∫∫",
        "ÁîüÊ¥ªÂòõÔºåÁ¨ë‰∏ÄÁ¨ëÂ∞±Â•Ω‰∫ÜüòÜ",
        "Áî®ÁÉ≠Áà±ÔºåÂØπÊäóÁîüÊ¥ªÁöÑÂπ≥Ê∑°",
        "ÂÅ•Â∫∑Âπ≥ÂÆâÔºåÂ∞±ÊòØÊúÄÂ§ßÁöÑÂπ∏Á¶è",
        "ÊääÊó•Â≠êËøáÊàêËá™Â∑±ÂñúÊ¨¢ÁöÑÊ†∑Â≠ê",
        "Âä™ÂäõÁöÑÊÑè‰πâÔºåÊòØËÆ©Ëá™Â∑±ÊúâÊõ¥Â§öÈÄâÊã©",
        "Âà´Â∞ÜÂ∞±Ôºå‰Ω†ÂÄºÂæóÊõ¥Â•ΩÁöÑ",
        "ÂÅ∂Â∞îÊîæÊÖ¢ËÑöÊ≠•ÔºåÁúãÁúãÊ≤øÈÄîÈ£éÊôØ",
        "ÂÖÉÊ∞îÂä†ËΩΩ‰∏≠‚Ä¶100%‚úÖ",
        "ÁîüÊ¥ªÊÄªÊúâ‰∏çÊúüËÄåÈÅáÁöÑÊÉäÂñú",
        "ÂãáÊï¢‰∏ÄÁÇπÔºå‰Ω†ÊØîÊÉ≥Ë±°‰∏≠Êõ¥Âº∫Â§ß",
        "‰∏á‰∫ãÁöÜÂèØÊúüÂæÖÔºåÊú™Êù•ÁöÜÊúâÂèØËÉΩ",
        "Â•ΩÂ•ΩÂêÉÈ•≠ÔºåÂ•ΩÂ•ΩÁù°ËßâÔºåÂ•ΩÂ•ΩÁà±Ëá™Â∑±",
        "Êää‰∏çÂºÄÂøÉÁïôÂú®Êò®Â§©Ôºå‰ªäÂ§©‰æùÊóßÁæéÂ•Ω",
        "ÂøÉÊÄÅÂØπ‰∫ÜÔºå‰∏ÄÂàáÈÉΩÈ°∫‰∫Ü",
        "ÂÅö‰∏™Ê∏©ÊöñÁöÑ‰∫∫ÔºåÊ∏©ÊöñËá™Â∑±‰πüÊ∏©ÊöñÂà´‰∫∫",
        "Â•ΩËøêËóèÂú®Âä™ÂäõÈáåÔºå‰πüËóèÂú®ÂñÑËâØÈáå",
        "ÁîüÊ¥ªÊúâÁÇπËã¶Ôºå‰ΩÜ‰Ω†ÂæàÁîúüç¨",
        "ÊØèÊÆµÊóÖÁ®ãÔºåÈÉΩÊúâÂÆÉÁöÑÊÑè‰πâ",
        "‰∏çÊÖå‰∏çÂøôÔºåÊÖ¢ÊÖ¢ÊàêÈïø",
        "ÊÑø‰Ω†ÁúºÈáåÊúâÂÖâÔºåÂøÉ‰∏≠ÊúâÁà±",
        "ÊãíÁªùÂÜÖËÄóÔºåÂ•ΩÂ•ΩÁîüÊ¥ª",
        "Êó•Â≠êÊúâÁõºÂ§¥ÔºåÁîüÊ¥ªÊúâÁîúÂ§¥",
        "Âá°ÊòØËøáÂæÄÔºåÁöÜ‰∏∫Â∫èÁ´†ÔºõÂá°ÊòØÊú™Êù•ÔºåÁöÜÊúâÂèØÊúü",
        "‰Ω†Ëã•ÁõõÂºÄÔºåËù¥Ëù∂Ëá™Êù•",
        "‰øùÊåÅÁÉ≠Áà±ÔºåÈó™Èó™ÂèëÂÖâ",
        "‰ªäÊó•‰ªΩÂ∞èÁæéÂ•ΩÔºåËØ∑Êü•Êî∂üåü",
        "ÁîüÊ¥ªÊòéÊúóÔºå‰∏áÁâ©ÂèØÁà±",
        "Âä™ÂäõÁöÑ‰∫∫ÔºåÁªà‰ºöË¢´‰∏ñÁïåÊ∏©Êüî‰ª•ÂæÖ",
      ];

      // 40‰∏™È¢úËâ≤ÁªÑÂêà
      const allColors = [
        { bg: "#ffffff", border: "#ff2d55" },
        { bg: "#fff0f5", border: "#ff0080" },
        { bg: "#faf5ff", border: "#7928ca" },
        { bg: "#e6f7ff", border: "#1890ff" },
        { bg: "#fffbe6", border: "#faad14" },
        { bg: "#f0fff4", border: "#52c41a" },
        { bg: "#fff7e6", border: "#fa8c16" },
        { bg: "#fef7fb", border: "#ff4d94" },
        { bg: "#f5fafe", border: "#40a9ff" },
        { bg: "#f9f5ff", border: "#9254de" },
        { bg: "#f0f9ff", border: "#096dd9" },
        { bg: "#fcf1f7", border: "#ed4b9e" },
        { bg: "#eaf6fa", border: "#36cffb" },
        { bg: "#f5f5f5", border: "#8c8c8c" },
        { bg: "#faf0f5", border: "#d9480f" },
        { bg: "#e8f4f8", border: "#29b6f6" },
        { bg: "#faf6ed", border: "#faad14" },
        { bg: "#f1f8e9", border: "#66bb6a" },
        { bg: "#fef5e7", border: "#ff9f43" },
        { bg: "#fdf2f8", border: "#e53e3e" },
        { bg: "#f2f9ff", border: "#722ed1" },
        { bg: "#f5fafe", border: "#00b8d9" },
        { bg: "#fafafa", border: "#ff6b6b" },
        { bg: "#f9f7f7", border: "#ff8a80" },
        { bg: "#e6f0ff", border: "#536dfe" },
        { bg: "#f0f8fb", border: "#00c48c" },
        { bg: "#fcf6e5", border: "#ffc53d" },
        { bg: "#faf0f5", border: "#9f7aea" },
        { bg: "#e8f5e9", border: "#2e7d32" },
        { bg: "#fff3e0", border: "#ff7a45" },
        { bg: "#f0fff0", border: "#388e3c" },
        { bg: "#ffebee", border: "#c2185b" },
        { bg: "#e3f2fd", border: "#0288d1" },
        { bg: "#fff3e0", border: "#fb8c00" },
        { bg: "#f3e5f5", border: "#ab47bc" },
        { bg: "#e0f7fa", border: "#00acc1" },
        { bg: "#fff8e1", border: "#ff6d00" },
        { bg: "#ede7f6", border: "#7e57c2" },
        { bg: "#e8f5e9", border: "#1b5e20" },
        { bg: "#ffecb3", border: "#ff6f00" },
      ];

      // ÂºπÁ™óÈÖçÁΩÆÔºàÂæÆ‰ø°ÈÄÇÈÖçÔºöÂáèÂ∞ëÊï∞ÈáèÔºåÊîæÊÖ¢ÈÄüÂ∫¶Ôºâ
      const popupConfig = {
        count: 20, // ÂæÆ‰ø°Á´ØÈÄÇ‰∏≠Êï∞ÈáèÔºå‰∏çÊã•Êå§
        delay: 300,
        minSize: 120,
        maxSize: 150,
        autoTriggerDelay: 500, // Ëá™Âä®ÂºπÁ™óÂª∂ËøüÊó∂Èó¥
      };

      let colorPool = [];
      let cycleCount = 0;

      // ÂàùÂßãÂåñÈ¢úËâ≤Ê±†
      function initColorPool() {
        cycleCount++;
        colorPool = JSON.parse(JSON.stringify(allColors)).sort(
          () => 0.5 - Math.random()
        );
      }

      // Ëé∑ÂèñÊó†ÈáçÂ§çÈ¢úËâ≤
      function getUniqueColor() {
        if (colorPool.length === 0) initColorPool();
        return colorPool.shift();
      }

      // ÂàõÂª∫ÂºπÁ™ó
      function createPopup(text, index) {
        const popup = document.createElement("div");
        popup.className = "popup";

        const size =
          Math.floor(
            Math.random() * (popupConfig.maxSize - popupConfig.minSize)
          ) + popupConfig.minSize;
        const colorConfig = getUniqueColor();

        const viewportWidth = document.documentElement.clientWidth;
        const viewportHeight = document.documentElement.clientHeight;
        const maxX = viewportWidth - size - 15;
        const maxY = viewportHeight - size - 40;
        const x = Math.max(15, Math.floor(Math.random() * maxX));
        const y = Math.max(40, Math.floor(Math.random() * maxY));

        popup.style.width = `${size}px`;
        popup.style.left = `${x}px`;
        popup.style.top = `${y}px`;
        popup.style.zIndex = 9999 + index;
        popup.style.backgroundColor = colorConfig.bg;
        popup.style.border = `1px solid ${colorConfig.border}`;

        // <button class="close-btn">ÂÖ≥Èó≠</button>
        // <div class="color-code">${colorConfig.bg} | Âæ™ÁéØ${cycleCount}Ê¨°</div>
        popup.innerHTML = `
        <div class="popup-content">
          <div class="popup-icon" style="background-color: ${hexToRgba(
            colorConfig.border,
            0.1
          )}">
            <span class="icon-heart">‚ô•</span>
          </div>
          <p class="popup-text">${text}</p>
        </div>
      `;

        const container = document.getElementById("popupContainer");
        container.appendChild(popup);

        // ÂæÆ‰ø°ÈÄÇÈÖçÔºö‰ºòÂÖàtouch‰∫ã‰ª∂ÔºåÂÖºÂÆπclick
        function closePopup() {
          popup.style.opacity = "0";
          popup.style.transform = "scale(0.8)";
          setTimeout(() => {
            if (popup.parentNode) popup.parentNode.removeChild(popup);
          }, 300);
        }

        popup.addEventListener(
          "touchstart",
          (e) => {
            e.preventDefault();
            closePopup();
          },
          { passive: false }
        ); // ÂæÆ‰ø°Á´ØÈúÄÊòæÂºèÂÖ≥Èó≠passive

        popup.addEventListener("click", closePopup);

        // popup.querySelector(".close-btn").addEventListener(
        //   "touchstart",
        //   (e) => {
        //     e.preventDefault();
        //     e.stopPropagation();
        //     closePopup();
        //   },
        //   { passive: false }
        // );

        // popup.querySelector(".close-btn").addEventListener("click", (e) => {
        //   e.stopPropagation();
        //   closePopup();
        // });

        setTimeout(closePopup, 6000 + Math.random() * 4000);
      }

      // ÂçÅÂÖ≠ËøõÂà∂ËΩ¨RGBA
      function hexToRgba(hex, alpha) {
        const r = parseInt(hex.slice(1, 3), 16);
        const g = parseInt(hex.slice(3, 5), 16);
        const b = parseInt(hex.slice(5, 7), 16);
        return `rgba(${r}, ${g}, ${b}, ${alpha})`;
      }

      // ÊâπÈáèÂàõÂª∫ÂºπÁ™ó
      function createPopups() {
        document.getElementById("popupContainer").innerHTML = "";
        cycleCount = 0;
        initColorPool();

        // ÊñáÂ≠óÂæ™ÁéØÂ§çÁî®
        const repeatedTexts = [];
        const textCycle = Math.ceil(popupConfig.count / popupTexts.length);
        for (let i = 0; i < textCycle; i++) {
          repeatedTexts.push(
            ...[...popupTexts].sort(() => 0.5 - Math.random())
          );
        }
        const selectedTexts = repeatedTexts.slice(0, popupConfig.count);

        // ÈÄê‰∏™ÂàõÂª∫
        selectedTexts.forEach((text, index) => {
          setTimeout(() => {
            createPopup(text, index);
          }, index * popupConfig.delay);
        });
      }

      // Ëá™Âä®Ëß¶ÂèëÂºπÁ™óÔºàÈ°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÂª∂ËøüÊâßË°åÔºâ
      document.addEventListener("DOMContentLoaded", () => {
        setTimeout(createPopups, popupConfig.autoTriggerDelay);
      });

      // ‰øùÁïôÊâãÂä®ÁÇπÂáªËß¶ÂèëÂäüËÉΩ
      // document.getElementById("startBtn").addEventListener(
      //   "touchstart",
      //   (e) => {
      //     e.preventDefault();
      //     createPopups();
      //   },
      //   { passive: false }
      // );

      // document
      //   .getElementById("startBtn")
      //   .addEventListener("click", createPopups);

      // Á™óÂè£ÈÄÇÈÖç
      window.addEventListener("resize", () => {
        const popups = document.querySelectorAll(".popup");
        popups.forEach((popup) => {
          const size = popup.offsetWidth;
          const viewportWidth = document.documentElement.clientWidth;
          const viewportHeight = document.documentElement.clientHeight;
          const maxX = viewportWidth - size - 15;
          const maxY = viewportHeight - size - 40;
          popup.style.left = `${Math.max(
            15,
            Math.min(parseInt(popup.style.left), maxX)
          )}px`;
          popup.style.top = `${Math.max(
            40,
            Math.min(parseInt(popup.style.top), maxY)
          )}px`;
        });
      });
    </script>
  </body>
</html>
